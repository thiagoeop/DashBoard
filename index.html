<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechFix Pro - Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .login-container {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        }
        .card-login {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        .form-input:focus {
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Página de Login/Cadastro -->
    <div id="loginPage" class="min-h-screen flex items-center justify-center login-container p-4">
        <div class="w-full max-w-5xl flex flex-col md:flex-row rounded-2xl overflow-hidden shadow-2xl">
            <!-- Painel Esquerdo - Informações -->
            <div class="md:w-2/5 bg-gradient-to-br from-indigo-900 to-purple-900 text-white p-8 md:p-12 flex flex-col justify-center">
                <div class="mb-8">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-tools text-4xl mr-3"></i>
                        <h1 class="text-3xl font-bold">TechFix Pro</h1>
                    </div>
                    <p class="text-indigo-200 mb-2">Sistema de gerenciamento para manutenção de notebooks e computadores</p>
                </div>
                
                <div class="mt-6">
                    <h3 class="text-xl font-semibold mb-4">Recursos do Sistema</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <i class="fas fa-check-circle text-green-300 mr-3"></i>
                            <span>Controle de serviços e equipamentos</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check-circle text-green-300 mr-3"></i>
                            <span>Gestão de clientes e técnicos</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check-circle text-green-300 mr-3"></i>
                            <span>Relatórios e gráficos detalhados</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check-circle text-green-300 mr-3"></i>
                            <span>Notificações em tempo real</span>
                        </li>
                    </ul>
                </div>
                
                <div class="mt-10 pt-6 border-t border-indigo-700">
                    <p class="text-sm text-indigo-300">
                        <i class="fas fa-info-circle mr-2"></i>
                        Acesse com suas credenciais ou crie uma nova conta
                    </p>
                </div>
            </div>
            
            <!-- Painel Direito - Formulários -->
            <div class="md:w-3/5 p-8 md:p-12 card-login">
                <!-- Login Form (padrão) -->
                <div id="loginFormContainer" class="transition-all duration-300">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Acesse sua conta</h2>
                    <p class="text-gray-600 mb-8">Entre com seu e-mail e senha para acessar o dashboard</p>
                    
                    <form id="loginForm">
                        <div class="mb-6">
                            <label for="loginEmail" class="block text-gray-700 font-medium mb-2">E-mail</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-envelope text-gray-400"></i>
                                </div>
                                <input type="email" id="loginEmail" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="seu@email.com" required>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label for="loginPassword" class="block text-gray-700 font-medium mb-2">Senha</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-lock text-gray-400"></i>
                                </div>
                                <input type="password" id="loginPassword" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="Sua senha" required>
                                <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                    <i class="fas fa-eye text-gray-400"></i>
                                </button>
                            </div>
                            <div class="flex justify-end mt-2">
                                <a href="#" id="forgotPassword" class="text-sm text-indigo-600 hover:text-indigo-800">Esqueceu a senha?</a>
                            </div>
                        </div>
                        
                        <div class="mb-6 flex items-center">
                            <input type="checkbox" id="rememberMe" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                            <label for="rememberMe" class="ml-2 block text-sm text-gray-700">Lembrar de mim</label>
                        </div>
                        
                        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 mb-6">
                            <i class="fas fa-sign-in-alt mr-2"></i> Entrar no Sistema
                        </button>
                        
                        <div class="text-center">
                            <p class="text-gray-600">Não tem uma conta? 
                                <a href="#" id="showRegister" class="font-medium text-indigo-600 hover:text-indigo-800">Cadastre-se aqui</a>
                            </p>
                        </div>
                    </form>
                    
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <p class="text-center text-gray-500 text-sm">
                            <i class="fas fa-shield-alt mr-1"></i>
                            Seus dados estão seguros conosco
                        </p>
                    </div>
                </div>
                
                <!-- Register Form (inicialmente oculto) -->
                <div id="registerFormContainer" class="hidden transition-all duration-300">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Criar nova conta</h2>
                    <p class="text-gray-600 mb-8">Preencha os dados abaixo para criar sua conta</p>
                    
                    <form id="registerForm">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="registerName" class="block text-gray-700 font-medium mb-2">Nome Completo</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-user text-gray-400"></i>
                                    </div>
                                    <input type="text" id="registerName" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="Seu nome completo" required>
                                </div>
                            </div>
                            
                            <div>
                                <label for="registerEmail" class="block text-gray-700 font-medium mb-2">E-mail</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-envelope text-gray-400"></i>
                                    </div>
                                    <input type="email" id="registerEmail" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="seu@email.com" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="registerPhone" class="block text-gray-700 font-medium mb-2">Telefone</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-phone text-gray-400"></i>
                                    </div>
                                    <input type="tel" id="registerPhone" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="(11) 99999-9999">
                                </div>
                            </div>
                            
                            <div>
                                <label for="registerCompany" class="block text-gray-700 font-medium mb-2">Empresa (opcional)</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-building text-gray-400"></i>
                                    </div>
                                    <input type="text" id="registerCompany" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="Nome da sua empresa">
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="registerPassword" class="block text-gray-700 font-medium mb-2">Senha</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-lock text-gray-400"></i>
                                    </div>
                                    <input type="password" id="registerPassword" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="Mínimo 6 caracteres" required minlength="6">
                                </div>
                            </div>
                            
                            <div>
                                <label for="registerConfirmPassword" class="block text-gray-700 font-medium mb-2">Confirmar Senha</label>
                                <div class="relative">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-lock text-gray-400"></i>
                                    </div>
                                    <input type="password" id="registerConfirmPassword" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="Digite novamente" required minlength="6">
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <label for="registerUserType" class="block text-gray-700 font-medium mb-2">Tipo de Usuário</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-user-tag text-gray-400"></i>
                                </div>
                                <select id="registerUserType" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" required>
                                    <option value="">Selecione seu perfil</option>
                                    <option value="technician">Técnico de Manutenção</option>
                                    <option value="manager">Gerente/Administrador</option>
                                    <option value="attendant">Atendente</option>
                                    <option value="client">Cliente (apenas acompanhamento)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mb-6">
                            <div class="flex items-start">
                                <input type="checkbox" id="terms" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded mt-1" required>
                                <label for="terms" class="ml-2 block text-sm text-gray-700">
                                    Eu concordo com os <a href="#" class="text-indigo-600 hover:text-indigo-800">Termos de Uso</a> e 
                                    <a href="#" class="text-indigo-600 hover:text-indigo-800">Política de Privacidade</a>
                                </label>
                            </div>
                        </div>
                        
                        <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 mb-6">
                            <i class="fas fa-user-plus mr-2"></i> Criar Conta
                        </button>
                        
                        <div class="text-center">
                            <p class="text-gray-600">Já tem uma conta? 
                                <a href="#" id="showLogin" class="font-medium text-indigo-600 hover:text-indigo-800">Faça login aqui</a>
                            </p>
                        </div>
                    </form>
                </div>
                
                <!-- Forgot Password Form (inicialmente oculto) -->
                <div id="forgotPasswordContainer" class="hidden transition-all duration-300">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Recuperar Senha</h2>
                    <p class="text-gray-600 mb-8">Digite seu e-mail para receber o link de recuperação</p>
                    
                    <form id="forgotPasswordForm">
                        <div class="mb-6">
                            <label for="forgotEmail" class="block text-gray-700 font-medium mb-2">E-mail</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i class="fas fa-envelope text-gray-400"></i>
                                </div>
                                <input type="email" id="forgotEmail" class="pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none form-input" placeholder="seu@email.com" required>
                            </div>
                            <p class="text-sm text-gray-500 mt-2">Enviaremos um link para redefinir sua senha.</p>
                        </div>
                        
                        <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-4 rounded-lg transition duration-300 mb-6">
                            <i class="fas fa-paper-plane mr-2"></i> Enviar Link de Recuperação
                        </button>
                        
                        <div class="text-center">
                            <a href="#" id="showLoginFromForgot" class="font-medium text-indigo-600 hover:text-indigo-800">
                                <i class="fas fa-arrow-left mr-1"></i> Voltar para o login
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Dashboard (inicialmente oculto) -->
    <div id="dashboardPage" class="hidden">
        <!-- O código completo do dashboard que você já tem vai aqui -->
        <!-- Para economizar espaço, mantenho apenas a referência -->
    </div>
    
    <!-- Modal de sucesso de cadastro -->
    <div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-6">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4">
                    <i class="fas fa-check text-green-600 text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Conta criada com sucesso!</h3>
                <p class="text-gray-600 mb-6">Sua conta foi criada com sucesso. Agora você pode acessar o dashboard com suas credenciais.</p>
                <button id="goToLogin" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300">
                    Fazer Login
                </button>
            </div>
        </div>
    </div>
    
    <!-- Modal de recuperação de senha -->
    <div id="recoverySentModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-6">
            <div class="text-center">
                <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4">
                    <i class="fas fa-paper-plane text-blue-600 text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">E-mail enviado!</h3>
                <p class="text-gray-600 mb-6">Enviamos um link de recuperação para o e-mail informado. Verifique sua caixa de entrada.</p>
                <button id="closeRecoveryModal" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition duration-300">
                    Voltar ao Login
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // Simulação de "banco de dados" para usuários (em um sistema real, isso seria no backend)
        let users = [
            { email: "admin@techfix.com", password: "admin123", name: "Admin Master", type: "admin" },
            { email: "tecnico@techfix.com", password: "tec123", name: "Carlos Mendes", type: "technician" }
        ];
        
        // Elementos da página
        const loginPage = document.getElementById('loginPage');
        const dashboardPage = document.getElementById('dashboardPage');
        const loginFormContainer = document.getElementById('loginFormContainer');
        const registerFormContainer = document.getElementById('registerFormContainer');
        const forgotPasswordContainer = document.getElementById('forgotPasswordContainer');
        
        // Alternar entre login e cadastro
        document.getElementById('showRegister').addEventListener('click', function(e) {
            e.preventDefault();
            loginFormContainer.classList.add('hidden');
            forgotPasswordContainer.classList.add('hidden');
            registerFormContainer.classList.remove('hidden');
        });
        
        document.getElementById('showLogin').addEventListener('click', function(e) {
            e.preventDefault();
            registerFormContainer.classList.add('hidden');
            forgotPasswordContainer.classList.add('hidden');
            loginFormContainer.classList.remove('hidden');
        });
        
        document.getElementById('forgotPassword').addEventListener('click', function(e) {
            e.preventDefault();
            loginFormContainer.classList.add('hidden');
            registerFormContainer.classList.add('hidden');
            forgotPasswordContainer.classList.remove('hidden');
        });
        
        document.getElementById('showLoginFromForgot').addEventListener('click', function(e) {
            e.preventDefault();
            forgotPasswordContainer.classList.add('hidden');
            registerFormContainer.classList.add('hidden');
            loginFormContainer.classList.remove('hidden');
        });
        
        // Mostrar/ocultar senha
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('loginPassword');
            const icon = this.querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });
        
        // Formulário de login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Verificar credenciais
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                // Login bem-sucedido
                alert(`Bem-vindo, ${user.name}!`);
                
                // Em um sistema real, aqui você salvaria o token de autenticação
                localStorage.setItem('techfix_user', JSON.stringify(user));
                
                // Redirecionar para o dashboard
                loginPage.classList.add('hidden');
                loadDashboard();
            } else {
                // Credenciais inválidas
                alert('E-mail ou senha incorretos. Tente novamente.');
                document.getElementById('loginPassword').value = '';
                document.getElementById('loginPassword').focus();
            }
        });
        
        // Formulário de cadastro
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            const userType = document.getElementById('registerUserType').value;
            
            // Validações
            if (password !== confirmPassword) {
                alert('As senhas não coincidem!');
                return;
            }
            
            if (password.length < 6) {
                alert('A senha deve ter pelo menos 6 caracteres!');
                return;
            }
            
            // Verificar se o usuário já existe
            if (users.find(u => u.email === email)) {
                alert('Este e-mail já está cadastrado!');
                return;
            }
            
            // Criar novo usuário
            const newUser = {
                email: email,
                password: password,
                name: name,
                type: userType,
                phone: document.getElementById('registerPhone').value,
                company: document.getElementById('registerCompany').value
            };
            
            // Adicionar ao "banco de dados"
            users.push(newUser);
            
            // Mostrar modal de sucesso
            document.getElementById('successModal').classList.remove('hidden');
        });
        
        // Formulário de recuperação de senha
        document.getElementById('forgotPasswordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('forgotEmail').value;
            
            // Verificar se o e-mail existe
            if (users.find(u => u.email === email)) {
                // Em um sistema real, aqui você enviaria um e-mail de recuperação
                document.getElementById('recoverySentModal').classList.remove('hidden');
            } else {
                alert('E-mail não encontrado em nosso sistema!');
            }
        });
        
        // Modal de sucesso - ir para login
        document.getElementById('goToLogin').addEventListener('click', function() {
            document.getElementById('successModal').classList.add('hidden');
            document.getElementById('registerForm').reset();
            registerFormContainer.classList.add('hidden');
            loginFormContainer.classList.remove('hidden');
        });
        
        // Fechar modal de recuperação
        document.getElementById('closeRecoveryModal').addEventListener('click', function() {
            document.getElementById('recoverySentModal').classList.add('hidden');
            document.getElementById('forgotPasswordForm').reset();
            forgotPasswordContainer.classList.add('hidden');
            loginFormContainer.classList.remove('hidden');
        });
        
        // Função para carregar o dashboard (se o usuário já estiver logado)
        function loadDashboard() {
            // Aqui você carregaria o conteúdo do dashboard
            // Para este exemplo, apenas mostraremos que o login foi bem-sucedido
            dashboardPage.classList.remove('hidden');
            dashboardPage.innerHTML = `
                <div class="flex h-screen items-center justify-center bg-gray-100">
                    <div class="text-center">
                        <h1 class="text-4xl font-bold text-gray-800 mb-4">Login bem-sucedido!</h1>
                        <p class="text-gray-600 mb-8">Você será redirecionado para o dashboard em instantes...</p>
                        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600"></div>
                        <div class="mt-8">
                            <button id="logoutBtn" class="px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition">
                                <i class="fas fa-sign-out-alt mr-2"></i> Sair
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Adicionar evento de logout
            document.getElementById('logoutBtn').addEventListener('click', function() {
                localStorage.removeItem('techfix_user');
                dashboardPage.classList.add('hidden');
                loginPage.classList.remove('hidden');
                document.getElementById('loginForm').reset();
                loginFormContainer.classList.remove('hidden');
                registerFormContainer.classList.add('hidden');
                forgotPasswordContainer.classList.add('hidden');
            });
            
            // Em um sistema real, você carregaria o dashboard completo aqui
            // setTimeout(() => {
            //     dashboardPage.innerHTML = `...código completo do dashboard...`;
            //     initializeDashboard(); // Função para inicializar o dashboard
            // }, 2000);
        }
        
        // Verificar se o usuário já está logado ao carregar a página
        document.addEventListener('DOMContentLoaded', function() {
            const savedUser = localStorage.getItem('techfix_user');
            
            if (savedUser) {
                // Usuário já logado, redirecionar para o dashboard
                loginPage.classList.add('hidden');
                loadDashboard();
            }
        });
    </script>
</body>
</html>
